<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/jquery-1.12.4.min.js"></script>
</head>
<body>
<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <a href="index.html" class="navbar-brand"></a>
        </div>
        <label id="toggle-label" class="visible-xs-inline-block" for="toggle-checkbox">MENU</label>
        <input class="hidden" id="toggle-checkbox" type="checkbox">
        <div class="hidden-xs">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">首页</a></li>
                <li><a href="#">国内</a></li>
                <li><a href="#">国际</a></li>
                <li><a href="#">数读</a></li>
                <li><a href="#">社会</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="login.html">登录</a></li>
                <li><a href="signup.html">注册</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="container container-small">
    <h1>注册
        <!--<small>没有账号？<a href="signup.html">注册</a></small>-->
    </h1>
    <form id="id-register-form">
        <!--<div class="form-group">
          <label>手机</label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group">
          <label>验证码</label>
          <div class="input-group">
            <input type="text" class="form-control">
            <div class="input-group-btn">
              <div class="btn btn-default">获取验证码</div>
            </div>
          </div>
        </div>-->
        <div class="form-group">
            <label>用户名</label>
            <input type="text" class="form-control" name="name" id="id-name">
        </div>
        <div class="form-group">
            <label>密码</label>
            <input type="password" class="form-control" name="password" id="id-password">
        </div>
        <div class="form-group">
            <label>重复密码</label>
            <input type="password" class="form-control" id="id-password2">
        </div>
        <div class="form-group">
            <button class="btn btn-primary btn-block" id="id-btn-register">注册</button>
        </div>
        <!--<div class="form-group">
          注册拴蛋头条即代表您同意<a href="#">拴蛋头条服务条款</a>
        </div>-->
    </form>
</div>
<div class="footer">
    © 2017 拴蛋头条 中国互联网举报中心京ICP证1401号京ICP备125439号-3京公网安备
</div>

<script>
    //var APP_PATH = "http://localhost:10623";
    var APP_PATH = "";
    /*用户注册事件*/
    $("#id-btn-register").click(function () {
        var password = $("#id-password").val();
        var name = $("#id-name").val();
        var password2 = $("#id-password2").val();
        if (password !== password2) {
            alert("密码不一致, 请重新输入");
            return;
        }
        var data = {
          name: name,
          password: password
        };

        //alert(JSON.stringify(data));

        $.ajax({
            url: APP_PATH + '/user/register',
            type: 'POST',
            contentType: "application/json",
            datType: "JSON",
            data: JSON.stringify(data),
            async: false,
            success: function (result) {

                alert(result.msg)

                //alert(result)
                //alert("ok")
                /*if (result.codeNum == 100) {
                    $('#myModal').modal('hide');
                    getPage(totalCount);
                }
                else {
                    //显示失败信息
                    //有哪个字段的错误信息就显示哪个字段的；
                    if(undefined != result.map.empName){
                        //显示邮箱错误信息
                        show_validate_msg("#empName_form_input", "error", result.map.empName);
                    }
                    if(undefined != result.map.email){
                        //显示员工名字的错误信息
                        show_validate_msg("#email_form_input", "error", result.map.email);
                    }
                    alert("保存失败!");
                }*/
            }
        });
    });
</script>
</body>
</html>
